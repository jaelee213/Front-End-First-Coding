<!DOCTYPE html>

<!-- File Size: 1KB | Load Time: 11.5ms -->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../style/style.css">
  <title>Add Game</title>
  <!-- changes -->
  <script>
    var submitBtn = document.getElementById('addGameSubmitBtn');

	submitBtn.addEventListener('click', function() {
	  var theTeam= document.getElementById('OppTeam').value;
	  var theDate = document.getElementById('gameDate').value;
	  var theTime = document.getElementById('gametime').value;
	  var theLocation = document.getElementById('location').value;
	  var game = {};
	  game.oppTeam = theTeam;
	  game.date = theDate;
	  game.time = theTime;
	  game.location = theLocation;

	  var gameList = JSON.parse(localStorage.getItem('games'));

	  if (gameList) {
	    gameList.push(game);
		localStorage.setItem('games', JSON.stringify(gameList));
	  }
	  else {
	  	var gameListInitialize = [game];
		localStorage.setItem('games', JSON.stringify(gameListInitialize));
	  }
	});

	function logoutClean() {
      localStorage.removeItem("user");
    }

	/*function test() {
	  var theTeam= document.getElementById('OppTeam').value;
	  var theDate = document.getElementById('gameDate').value;
	  var theTime = document.getElementById('gametime').value;
	  var theLocation = document.getElementById('location').value;
	  var game = {};
	  game.oppTeam = theTeam;
	  game.date = theDate;
	  game.time = theTime;
	  game.location = theLocation;

	  var gameList = JSON.parse(localStorage.getItem('games'));

	  if (gameList) {
	    gameList.push(game);
		localStorage.setItem('games', JSON.stringify(gameList));
	  }
	  else {
	  	var gameListInitialize = [game];
		localStorage.setItem('games', JSON.stringify(gameListInitialize));
	  }
	  var gameArray = JSON.parse(localStorage.getItem('games'));
	  alert(gameArray[0].oppTeam);
	  localStorage.removeItem('games');
	}*/

  </script>
</head>

<body>
  <nav class="navbar">
    <a href="./home.html" id="logo">TeamWatch</a>
    <a href="./home.html">Home</a>
    <a href="./gameschedule.html">Game</a>
    <a href="./players.html">Roster</a>
    <a href="./login.html" id="logout" onclick="logoutClean()"> Logout</a>
  </nav>
  <div class="box">
    <h2 id="testid">Add Game</h2>
    <form id="addgameform">
      <p><label for="OppTeam">Opposing Team:</label></p>
      <input type="text" id="OppTeam" name="OppTeam" placeholder="Enter Team Name">
      <p><label for="gameDate">Date:</label></p>
      <input type="date" id="gameDate" name="gameDate">
      <p><label for="gametime">Time:</label></p>
      <input type="time" id="gametime" name="time">
      <p><label for="location">Location:</label></p>
      <input type="text" id="location" name="location" placeholder="Enter Location">
      <p><label>Status:</label></p>
      <p><input type="radio" name="status" value="0" id="addgamehome">Home</p>
      <p><input type="radio" name="status" value="1" id="addgameaway">Away</p>
      <input type="submit" value="Add Game" id="addGameSubmitBtn">
    </form>
  </div>
<!--  <button onclick="test()">Test button</button> -->
</body>
</html>
