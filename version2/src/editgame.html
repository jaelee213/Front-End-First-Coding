<!DOCTYPE html>

<!-- File Size: 1KB | Load Time: 10.6ms -->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="../style/style.css">
  <title>Edit Game</title>
</head>

<body>
  <nav class="navbar">
    <a href="./home.html" id="logo">TeamWatch</a>
    <a href="./home.html">Home</a>
    <a href="./gameschedule.html">Game</a>
    <a href="./players.html">Roster</a>
    <a href="./login.html" id="logout" onclick="logoutClean()"> Logout</a>
  </nav>
  <div class="box">
    <h2>Edit Game</h2>
    <form>
      <p><label for="OppTeam">Opposing Team:</label></p>
      <input type="text" id="OppTeam" name="OppTeam">
      <p><label for="gameDate">Date:</label></p>
      <input type="date" id="gameDate" name="gameDate">
      <p><label for="gametime">Time:</label></p>
      <input type="time" id="gametime" name="time">
      <p><label>Time of Day:</label></p>
      <output id="outOpt">
      </output>      
      <p><label for="location">Location:</label></p>
      <input type="text" id="location" name="location">
      <p><label>Status:</label></p>
      <output id="outputOption">
      </output> 
      <input type="button" value="Edit Game" id="exsave">
      <input type="button" value="Delete Game" id="delB">
    </form>
  </div>
  <script>

    var game = JSON.parse(localStorage.getItem('gametoedit')); 
    
    var savebutton = document.getElementById('exsave'); 
    var deletebutton = document.getElementById('delB'); 

    window.addEventListener('DOMContentLoaded', function() {

      var out = document.getElementById('outputOption');
      var put = document.getElementById('outOpt'); 

      var ot = document.getElementById('OppTeam'); 
      var d = document.getElementById('gameDate'); 
      var t = document.getElementById('gametime');
      var l = document.getElementById('location'); 

      if(game.tod == "day") {
        put.innerHTML += "<p><input type='radio' name='tofday' value='day' id='timeofdayradio' checked>A.M.</p>"
        + "<p><input type='radio' name='tofday' value='night' id='timeofdayradio'>P.M.</p>";
      }
      else {
        put.innerHTML += "<p><input type='radio' name='tofday' value='day' id='timeofdayradio'>A.M.</p>"
        + "<p><input type='radio' name='tofday' value='night' id='timeofdayradio' checked>P.M.</p>";
      }

      if(game.status == "Home") {
        out.innerHTML += "<p><input type='radio' name='status' value='home' id='status' checked>Home</p>" 
        + "<p><input type='radio' name='status' value='away' id='status'>Away</p>"; 
      }
      else {
        out.innerHTML += "<p><input type='radio' name='status' value='home' id='status'>Home</p>" 
        + "<p><input type='radio' name='status' value='away' id='status' checked>Away</p>"; 
      }

      var gtime;
      gtime = game.time.replace(' am', ''); 
      gtime = game.time.replace(' pm', ''); 

      ot.value = game.opponentname; 
      d.value = game.date; 
      t.value = gtime;
      l.value = game.location;
    })

    

    savebutton.addEventListener('click', function() {
      location.href='./gameschedule.html';
    })

    deletebutton.addEventListener('click', function(){ 
      location.href='./gameschedule.html';
    })

    savebutton.addEventListener('click', function() {

    })

    deletebutton.addEventListener('click', function(){ 

    })

    function logoutClean() {
      localStorage.removeItem("user");
    }
  </script>
</body>
</html>
